<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid Diagram Test Page</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            line-height: 1.6;
            background: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        h2 {
            color: #667eea;
            margin-top: 40px;
        }
        .diagram-container {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .diagram-code {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            white-space: pre;
            user-select: all;
            cursor: text;
        }
        .diagram-code:hover {
            background: #e9ecef;
        }
        .instructions {
            background: #d1ecf1;
            border-left: 4px solid #0c5460;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .instructions strong {
            color: #0c5460;
        }
    </style>
</head>
<body>
    <h1>Render Mermaid OnTheFly - Test Page</h1>

    <div class="instructions">
        <strong>How to test:</strong>
        <ol>
            <li>Select any diagram code below (click and drag or triple-click)</li>
            <li>Right-click to open the context menu</li>
            <li>Click "Render Mermaid"</li>
            <li>The diagram will appear in an interactive overlay!</li>
        </ol>
    </div>

    <h2>1. Simple Flowchart</h2>
    <div class="diagram-container">
        <p>A basic flowchart showing a decision process:</p>
        <div class="diagram-code">graph TD
    A[Start] --> B{Is it working?}
    B -->|Yes| C[Great!]
    B -->|No| D[Debug]
    D --> A
    C --> E[End]</div>
    </div>

    <h2>2. Sequence Diagram</h2>
    <div class="diagram-container">
        <p>Communication between Alice and John:</p>
        <div class="diagram-code">sequenceDiagram
    participant Alice
    participant John
    Alice->>John: Hello John, how are you?
    John-->>Alice: Great!
    Alice-)John: See you later!</div>
    </div>

    <h2>3. Class Diagram</h2>
    <div class="diagram-container">
        <p>Object-oriented class relationships:</p>
        <div class="diagram-code">classDiagram
    Animal <|-- Duck
    Animal <|-- Fish
    Animal <|-- Zebra
    Animal : +int age
    Animal : +String gender
    Animal: +isMammal()
    Animal: +mate()
    class Duck{
        +String beakColor
        +swim()
        +quack()
    }
    class Fish{
        -int sizeInFeet
        -canEat()
    }
    class Zebra{
        +bool is_wild
        +run()
    }</div>
    </div>

    <h2>4. State Diagram</h2>
    <div class="diagram-container">
        <p>Application state transitions:</p>
        <div class="diagram-code">stateDiagram-v2
    [*] --> Still
    Still --> [*]
    Still --> Moving
    Moving --> Still
    Moving --> Crash
    Crash --> [*]</div>
    </div>

    <h2>5. Entity Relationship Diagram</h2>
    <div class="diagram-container">
        <p>Database relationships:</p>
        <div class="diagram-code">erDiagram
    CUSTOMER ||--o{ ORDER : places
    ORDER ||--|{ LINE-ITEM : contains
    CUSTOMER }|..|{ DELIVERY-ADDRESS : uses
    CUSTOMER {
        string name
        string custNumber
        string sector
    }
    ORDER {
        int orderNumber
        string deliveryAddress
    }</div>
    </div>

    <h2>6. Gantt Chart</h2>
    <div class="diagram-container">
        <p>Project timeline:</p>
        <div class="diagram-code">gantt
    title A Gantt Diagram
    dateFormat  YYYY-MM-DD
    section Section
    A task           :a1, 2024-01-01, 30d
    Another task     :after a1  , 20d
    section Another
    Task in sec      :2024-01-12  , 12d
    another task      : 24d</div>
    </div>

    <h2>7. Pie Chart</h2>
    <div class="diagram-container">
        <p>Data distribution:</p>
        <div class="diagram-code">pie title Pets adopted by volunteers
    "Dogs" : 386
    "Cats" : 85
    "Rats" : 15</div>
    </div>

    <h2>8. Git Graph</h2>
    <div class="diagram-container">
        <p>Git branch visualization:</p>
        <div class="diagram-code">gitGraph
    commit
    commit
    branch develop
    checkout develop
    commit
    commit
    checkout main
    merge develop
    commit
    commit</div>
    </div>

    <h2>9. User Journey</h2>
    <div class="diagram-container">
        <p>User experience mapping:</p>
        <div class="diagram-code">journey
    title My working day
    section Go to work
      Make tea: 5: Me
      Go upstairs: 3: Me
      Do work: 1: Me, Cat
    section Go home
      Go downstairs: 5: Me
      Sit down: 5: Me</div>
    </div>

    <h2>10. Complex Flowchart</h2>
    <div class="diagram-container">
        <p>A more complex flowchart with multiple decision points:</p>
        <div class="diagram-code">flowchart TD
    A[Christmas] -->|Get money| B(Go shopping)
    B --> C{Let me think}
    C -->|One| D[Laptop]
    C -->|Two| E[iPhone]
    C -->|Three| F[Car]
    D --> G[Result 1]
    E --> G
    F --> G</div>
    </div>

    <div class="instructions">
        <strong>Tips:</strong>
        <ul>
            <li>You can zoom in/out using the mouse wheel on the diagram</li>
            <li>Click and drag to pan around large diagrams</li>
            <li>Use the buttons to zoom, reset, or export as PNG</li>
            <li>Drag the overlay window by its header</li>
            <li>Resize the overlay by dragging the bottom-right corner</li>
        </ul>
    </div>
</body>
</html>
